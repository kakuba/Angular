angular.module("app",["ngRoute","app.main","app.component1","app.component2","app.books","flash"]).config(["$locationProvider",function(o){"use strict";o.html5Mode(!1)}]).value("config",{contextPath:"workshop"}),angular.module("app.main",["ngRoute","app.main.templates","ui.bootstrap","flash"]).config(["$routeProvider",function(o){"use strict";o.when("/",{redirectTo:"/main/welcome"}).when("/main/welcome",{templateUrl:"main/html/welcome.html"}).otherwise({templateUrl:"main/html/page-not-found.html"})}]),angular.module("app.main").controller("AppCntl",["$scope",function(o){"use strict";o.message="Hello!"}]),angular.module("app.main").factory("currentContextPath",["$window",function(o){"use strict";var t="";return{get:function(){var e,n,a,l=t?!1:!0;return l&&(t="/",e=o.location.pathname,e&&e!==t&&(n=e.split("/"),n.length>1&&(a=n[1],a&&(t+=a+"/")))),t}}}]),angular.module("app.main.templates",[]).run(["$templateCache",function(o){o.put("main/html/page-not-found.html",'<!DOCTYPE html><html><body><div class="row"><div class="col-md-12"><h2>Page Not Found!</h2><p>The page you trying to reach could not be found.</p></div></div></body></html>'),o.put("main/html/welcome.html",'<!DOCTYPE html><html><body><div class="row"><div class="col-md-12"><h2>Welcome to OASP4JS application seed!</h2><p>Go to <a href="#/books/book-list">Books dialog</a></p><p>Go to <a href="#/component-1/dialog-a">Dialog A</a> of the component 1.</p><p>Go to <a href="#/component-2/dialog-b">Dialog B</a> of the component 2.</p></div></div></body></html>')}]),angular.module("app.books",["ngRoute"]).config(["$routeProvider",function(o){"use strict";o.when("/books/book-list",{templateUrl:"books/html/book-list.html",controller:"BookSearchController"}),o.when("/books/add-book",{templateUrl:"books/html/add-book.html"})}]),angular.module("app.books").controller("BookModalController",["$scope",function(o){"use strict";o.title="title"}]),angular.module("app.books").controller("BookSearchController",["$scope","$window","$location","bookService","Flash","$modal",function(o,t,e,n,a,l){"use strict";o.books=[],o.gridOptions={data:"books"},o.prefix="";var r=function(t){for(var e=0;e<o.books.length;e+=1)if(o.books[e].id===t){o.books.splice(e,1);break}};o.search=function(){n.search(o.prefix).then(function(t){angular.copy(t.data,o.books)},function(){a.create("danger","Wyjątek","custom-class")})},o.deleteBook=function(o){n.deleteBook(o).then(function(){r(o),a.create("success","Książka została usunięta.","custom-class")})},o.addBook=function(){l.open({templateUrl:"books/html/book-modal.html",controller:"BookModalController",size:"lg"})}}]),angular.module("app.books").factory("bookRestService",["$http","currentContextPath",function(o,t){"use strict";return{search:function(e){return o.get(t.get()+"rest/books/books-by-title",{params:{titlePrefix:e}})},deleteBook:function(e){return o["delete"](t.get()+"rest/books/book/"+e)}}}]),angular.module("app.books").factory("bookService",["bookRestService",function(o){"use strict";return{search:function(t){return o.search(t)},deleteBook:function(t){return o.deleteBook(t)}}}]),angular.module("app.component1",["ngRoute"]).config(["$routeProvider",function(o){"use strict";o.when("/component-1/dialog-a",{templateUrl:"component-1/html/dialog-a.html"})}]),angular.module("app.component2",["ngRoute","app.component2.templates"]).config(["$routeProvider",function(o){"use strict";o.when("/component-2/dialog-b",{templateUrl:"component-2/html/dialog-b.html"})}]),angular.module("app.component2.templates",[]).run(["$templateCache",function(o){o.put("component-2/html/dialog-b.html","<!DOCTYPE html><html><body><h2>Hello from Dialog B!</h2></body></html>")}]);